<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Меню</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> 
    <script type="text/javascript" href="index.js"></script> 
</head>

<body>
    Главный тренер «Амура» Михаил Кравец прокомментировал поражение команды в матче регулярного чемпионата КХЛ с «Ак Барсом» (2:3 ОТ).

    «Немножко растерялись в начале игры, потом команда стала хорошо двигаться, бороться, — сказал Кравец.
    
    — Достойное сопротивление оказывали Ак Барсу в первом периоде, потом добавили еще во втором, хорошо смотрелись.
    
    Только разве что в конце второго пропущенный гол был неприятный.
    
    Игра хорошая, скоростная, много борьбы, много моментов, много самоотверженности.
    
    Посмотрели хороший хоккей, итог решил только овертайм. Овертайм, буллиты у нас последнее время не очень уверенно идут, второй раз подряд проигрываем.
    
    С другой стороны, на выезде против сильной команды сыграли достойно и взяли одно очко».



<script type="text/javascript">
    var lastResFind=""; // последний удачный результат
    var copy_page=""; // копия страницы в ихсодном виде
    function TrimStr(s) {
         s = s.replace( /^\s+/g, '');
      return s.replace( /\s+$/g, '');
    }
    function findOnPage(inputId) {//ищет текст на странице, в параметр передается ID поля для ввода
      var obj = window.document.getElementById(inputId);
      var textToFind;
     
      if (obj) {
        textToFind = TrimStr(obj.value);//обрезаем пробелы
      } else {
        alert("Введенная фраза не найдена");
        return;
      }
      if (textToFind == "") {
        alert("Вы ничего не ввели");
        return;
      }
     
      if(document.body.innerHTML.indexOf(textToFind)=="-1")
      alert("Ничего не найдено, проверьте правильность ввода!");
     
      if(copy_page.length>0)
            document.body.innerHTML=copy_page;
      else copy_page=document.body.innerHTML;
    
     
      document.body.innerHTML = document.body.innerHTML.replace(eval("/name="+lastResFind+"/gi")," ");//стираем предыдущие якори для скрола
      document.body.innerHTML = document.body.innerHTML.replace(eval("/"+textToFind+"/gi"),"<a name="+textToFind+" style='background:red'>"+textToFind+"</a>"); //Заменяем найденный текст ссылками с якорем;
      lastResFind=textToFind; // сохраняем фразу для поиска, чтобы в дальнейшем по ней стереть все ссылки
      window.location = '#'+textToFind;//перемещаем скрол к последнему найденному совпадению
     }
    </script>
    <input type="text" id="findWords" value="">
    <input type="button" onclick="javascript: findOnPage('findWords'); return false;" value="Поиск"/>
    <br/><i>Введите слово или фразу для поиска.</i>
</body>
</html>
